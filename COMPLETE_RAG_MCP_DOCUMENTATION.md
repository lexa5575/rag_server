# üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è RAG —Å–∏—Å—Ç–µ–º—ã —Å HTTP-MCP —Å–µ—Ä–≤–µ—Ä–æ–º

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∞—è —Å—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     HTTP      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     HTTP      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Claude CLI    ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  HTTP-MCP Server ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   RAG Backend   ‚îÇ
‚îÇ                 ‚îÇ     :8200      ‚îÇ                  ‚îÇ     :8000    ‚îÇ   (FastAPI)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚îÇ                                  ‚îÇ
                                            ‚ñº                                  ‚ñº
                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                    ‚îÇ    SQLite    ‚îÇ                   ‚îÇ   ChromaDB   ‚îÇ
                                    ‚îÇ  (sessions)  ‚îÇ                   ‚îÇ    (docs)    ‚îÇ
                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                                              ‚îÇ
                                                                              ‚ñº
                                                                      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                                      ‚îÇ  LLM Models  ‚îÇ
                                                                      ‚îÇ Qwen/DeepSeek‚îÇ
                                                                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

1. **HTTP-MCP Server** (`mcp-server/http-mcp-server.js`)
   - Express.js —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8200
   - –ü—Ä–æ–∫—Å–∏ –¥–ª—è RAG backend
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤ –≤ SQLite
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã–º–∏ –º–æ–º–µ–Ω—Ç–∞–º–∏
   - Chunking –±–æ–ª—å—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ (>4000 —Ç–æ–∫–µ–Ω–æ–≤)

2. **RAG Backend** (`rag_server.py`)
   - FastAPI —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8000
   - –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ ChromaDB
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM –º–æ–¥–µ–ª—è–º–∏ (Qwen/DeepSeek)
   - Session Manager –¥–ª—è —É–º–Ω–æ–π –ø–∞–º—è—Ç–∏
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (TTL: 1 —á–∞—Å)

3. **Session Manager** (`session_manager.py`)
   - Sliding window (200 —Å–æ–æ–±—â–µ–Ω–∏–π)
   - –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã (10 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)
   - –°–∂–∞—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º

4. **Document Manager** (`docs_manager.py`)
   - –ü–∞—Ä—Å–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤
   - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ (200-2000 —Ç–æ–∫–µ–Ω–æ–≤)
   - –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –æ—Ç –ª–∏—à–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ VitePress, Docusaurus, Markdown

5. **Easy Add Manager** (`easy_add.py`)
   - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–æ–∫ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - –£–º–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- Node.js 16+
- SQLite
- 8GB+ RAM (–¥–ª—è LLM –º–æ–¥–µ–ª–µ–π)
- ChromaDB
- FastAPI
- SentenceTransformers
- LLM –º–æ–¥–µ–ª—å (–º–∏–Ω–∏–º—É–º –æ–¥–Ω–∞):
  - Qwen —á–µ—Ä–µ–∑ LM Studio (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
  - –ò–õ–ò DeepSeek —á–µ—Ä–µ–∑ Ollama

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
cd /Users/aleksejcuprynin/PycharmProjects/chanki
pip install -r requirements.txt
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `requirements.txt`:
```
chromadb
fastapi
uvicorn
sentence-transformers
pyyaml
requests
tqdm
```

#### Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
cd mcp-server
npm install
```

–ü–∞–∫–µ—Ç—ã –≤ `package.json`:
```json
{
  "dependencies": {
    "@modelcontextprotocol/sdk": "^0.5.0",
    "axios": "^1.6.2",
    "express": "^4.18.2",
    "sqlite3": "^5.1.6",
    "sqlite": "^5.1.1",
    "js-yaml": "^4.1.0"
  }
}
```

### 3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### config.yaml (–ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
```yaml
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
database:
  path: ./chroma_storage
  collection_name: universal_docs

# –≠–º–±–µ–¥–¥–∏–Ω–≥–∏
embeddings:
  model: all-MiniLM-L6-v2

# LLM –º–æ–¥–µ–ª–∏
llm:
  default_model: qwen
  models:
    qwen:
      api_url: http://127.0.0.1:1234/v1/completions
      model_name: qwen2.5-coder-3b-instruct-mlx
      max_tokens: 800
      temperature: 0.3
    deepseek:
      api_url: http://localhost:11434/api/generate
      model_name: deepseek-r1:8b
      max_tokens: 800
      temperature: 0.3

# –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏
session_memory:
  enabled: true
  db_path: "./session_storage.db"
  max_messages: 200
  compression_threshold: 50
  auto_detect_moments: true
  cleanup_days: 30
  auto_save_interactions: true

# MCP —Å–µ—Ä–≤–µ—Ä
mcp:
  base_url: http://127.0.0.1:8200
  chunk_limit_tokens: 4000
  key_moments_limit: 10
  tools_enabled:
    - ask_rag
    - get_recent_changes
    - run_tests
    - build_project
    - apply_patch
    - run_linters
    - open_file
    - list_frameworks
    - list_models
    - get_stats
    - save_tool_call
    - save_file_change

# –°–µ—Ä–≤–µ—Ä
server:
  host: 0.0.0.0
  port: 8000
  cors_origins: ["*"]

# –ö—ç—à
cache:
  enabled: true
  ttl: 3600
  max_size: 1000

# IDE –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
ide:
  enabled: true
  quick_response_timeout: 2.0
  context_window: 3

# –ê–≤—Ç–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
auto_scan:
  enabled: true
  auto_add_new: false
  auto_update_existing: true
  scan_paths: ["."]
  exclude_patterns:
    - node_modules
    - .git
    - .venv
    - venv
    - __pycache__
    - .next
    - .nuxt
    - dist
    - build
    - .cache
    - coverage
  doc_indicators:
    - README.md
    - readme.md
    - docs
    - documentation
    - guide
    - .vitepress
    - docusaurus.config.js
    - mkdocs.yml
  min_md_files: 1

# –§—Ä–µ–π–º–≤–æ—Ä–∫–∏
frameworks:
  vue:
    name: Vue
    enabled: true
    path: /Users/aleksejcuprynin/PycharmProjects/chanki/vue_docs/src
    type: vitepress
    prefix: vue
    description: Vue.js - Progressive JavaScript Framework
    file_patterns: ["*.md"]
    exclude_patterns: ["**/node_modules/**", "**/.git/**"]
    chunk_settings:
      min_size: 200
      max_size: 2000
      overlap: 200
    content_cleaning:
      remove_frontmatter: true
      remove_html_tags: true
      remove_code_blocks: false
      remove_vue_components: true
      remove_script_tags: true
      remove_style_tags: true
  
  laravel:
    name: Laravel
    enabled: true
    path: /Users/aleksejcuprynin/PycharmProjects/chanki/laravel_docs
    type: markdown
    prefix: laravel
    description: Laravel - PHP Framework for Web Artisans
    # ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### 4. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

#### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ LLM –º–æ–¥–µ–ª—å

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –í —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - Qwen —á–µ—Ä–µ–∑ LM Studio.

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ LM Studio –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å qwen2.5-coder-3b-instruct-mlx
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ http://127.0.0.1:1234

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ (–µ—Å–ª–∏ LM Studio –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω):
# –ò–∑–º–µ–Ω–∏—Ç–µ default_model –≤ config.yaml –Ω–∞ deepseek
# –ò –∑–∞–ø—É—Å—Ç–∏—Ç–µ DeepSeek —á–µ—Ä–µ–∑ Ollama:
# ollama serve
# ollama run deepseek-r1:8b
```

#### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ RAG —Å–µ—Ä–≤–µ—Ä
```bash
cd /Users/aleksejcuprynin/PycharmProjects/chanki
source venv/bin/activate
python rag_server.py
```

#### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ HTTP-MCP —Å–µ—Ä–≤–µ—Ä
```bash
cd mcp-server
npm run start:http
```

## üì° API Reference

### HTTP-MCP Server Endpoints

#### –û—Å–Ω–æ–≤–Ω–æ–π endpoint –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
```
POST http://127.0.0.1:8200/tool/{tool_name}
Content-Type: application/json

Body: JSON —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
```

#### Health check
```
GET http://127.0.0.1:8200/health

Response:
{
  "status": "ok",
  "version": "1.0.0",
  "rag_server": "http://localhost:8000",
  "tools_enabled": ["ask_rag", "get_recent_changes", ...]
}
```

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–∑–æ–≤–æ–≤
```
GET http://127.0.0.1:8200/stats/calls

Response:
{
  "stats": [
    {
      "tool_name": "ask_rag",
      "call_count": 42,
      "success_count": 40,
      "error_count": 2,
      "last_call": "2025-01-09T18:00:00Z"
    }
  ]
}
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

#### 1. ask_rag - –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤
```bash
curl -X POST http://127.0.0.1:8200/tool/ask_rag \
  -H "Content-Type: application/json" \
  -d '{
    "query": "–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ Vue?",
    "framework": "vue",
    "model": "deepseek",
    "max_results": 5
  }'

# Response:
{
  "answer": "–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ Vue.js - —ç—Ç–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –±–ª–æ–∫ –∫–æ–¥–∞...",
  "sources": [
    {
      "path": "vue/guide/components.md",
      "line": 0,
      "framework": "vue"
    }
  ]
}
```

#### 2. get_recent_changes - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
```bash
curl -X POST http://127.0.0.1:8200/tool/get_recent_changes \
  -H "Content-Type: application/json" \
  -d '{"limit": 10}'

# Response:
{
  "changes": [
    {
      "timestamp": 1736438400.0,
      "type": "error_solved",
      "title": "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏",
      "summary": "–†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π email",
      "files": ["app/Models/User.php"]
    }
  ]
}
```

#### 3. list_frameworks - –°–ø–∏—Å–æ–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
```bash
curl -X POST http://127.0.0.1:8200/tool/list_frameworks \
  -H "Content-Type: application/json" \
  -d '{}'

# Response:
{
  "frameworks": [
    {
      "key": "vue",
      "name": "Vue",
      "description": "Vue.js - Progressive JavaScript Framework"
    },
    {
      "key": "laravel",
      "name": "Laravel",
      "description": "Laravel - PHP Framework for Web Artisans"
    },
    {
      "key": "alpine",
      "name": "Alpine.js",
      "description": "Alpine.js - Your new, lightweight, JavaScript framework"
    },
    {
      "key": "filament",
      "name": "Filament",
      "description": "Filament - Accelerated Laravel development framework"
    },
    {
      "key": "inertia",
      "name": "Inertia",
      "description": "Inertia.js - Build single-page apps without building an API"
    },
    {
      "key": "tailwindcss",
      "name": "Tailwind CSS",
      "description": "Tailwind CSS - A utility-first CSS framework"
    }
  ]
}
```

#### 4. list_models - –°–ø–∏—Å–æ–∫ LLM –º–æ–¥–µ–ª–µ–π
```bash
curl -X POST http://127.0.0.1:8200/tool/list_models \
  -H "Content-Type: application/json" \
  -d '{}'

# Response:
{
  "models": [
    {
      "key": "qwen",
      "name": "qwen2.5-coder-3b-instruct-mlx",
      "max_tokens": 800,
      "temperature": 0.3
    },
    {
      "key": "deepseek",
      "name": "deepseek-r1:8b",
      "max_tokens": 800,
      "temperature": 0.3
    }
  ],
  "default": "qwen"
}
```

#### 5. get_stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
curl -X POST http://127.0.0.1:8200/tool/get_stats \
  -H "Content-Type: application/json" \
  -d '{}'

# Response:
{
  "stats": {
    "total_documents": 6405,
    "frameworks": {
      "VUE": 1234,
      "LARAVEL": 2345,
      "ALPINE": 456,
      "FILAMENT": 789,
      "INERTIA": 890,
      "TAILWINDCSS": 691
    },
    "cache_size": 42
  }
}
```

#### 6. apply_patch - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—á–∞
```bash
curl -X POST http://127.0.0.1:8200/tool/apply_patch \
  -H "Content-Type: application/json" \
  -d '{
    "diff": "--- a/file.js\n+++ b/file.js\n@@ -1,1 +1,1 @@\n-const a = 1;\n+const a = 2;",
    "files": ["file.js"]
  }'

# Response:
{
  "status": "applied",
  "message": "–ü–∞—Ç—á —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–º–µ–Ω–µ–Ω"
}
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è key_moment —Ç–∏–ø–∞ REFACTORING
```

#### 7. open_file - –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
```bash
curl -X POST http://127.0.0.1:8200/tool/open_file \
  -H "Content-Type: application/json" \
  -d '{
    "path": "config.yaml"
  }'

# Response:
{
  "content": "# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞..."
}
```

#### 8. run_tests - –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–∑–∞–≥–ª—É—à–∫–∞)
```bash
curl -X POST http://127.0.0.1:8200/tool/run_tests \
  -H "Content-Type: application/json" \
  -d '{}'

# Response:
{
  "status": "OK",
  "log": "All tests passed (stub implementation)\n‚úì Test suite 1: 10/10 passed\n‚úì Test suite 2: 5/5 passed"
}
```

#### 9. build_project - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–∑–∞–≥–ª—É—à–∫–∞)
```bash
curl -X POST http://127.0.0.1:8200/tool/build_project \
  -H "Content-Type: application/json" \
  -d '{}'

# Response:
{
  "status": "OK",
  "log": "Build completed successfully (stub implementation)\n‚úì Compiled 42 files\n‚úì Bundle size: 1.2MB\n‚úì Build time: 2.1s"
}
```

#### 10. run_linters - –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–æ–≤ (–∑–∞–≥–ª—É—à–∫–∞)
```bash
curl -X POST http://127.0.0.1:8200/tool/run_linters \
  -H "Content-Type: application/json" \
  -d '{}'

# Response:
{
  "status": "OK",
  "issues": []
}
```

#### 11. save_tool_call - –°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥–≥–µ—Ä –≤—ã–∑–æ–≤–æ–≤
```bash
curl -X POST http://127.0.0.1:8200/tool/save_tool_call \
  -H "Content-Type: application/json" \
  -d '{
    "tool_name": "ask_rag",
    "parameters": {"query": "test"},
    "result": "success"
  }'

# Response:
{
  "saved": true
}
```

#### 12. save_file_change - –°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥–≥–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤
```bash
curl -X POST http://127.0.0.1:8200/tool/save_file_change \
  -H "Content-Type: application/json" \
  -d '{
    "file_path": "test.js",
    "old_content": "const a = 1;",
    "new_content": "const a = 2;"
  }'

# Response:
{
  "saved": true
}
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è key_moment —Ç–∏–ø–∞ FILE_CREATED
```

### RAG Backend Endpoints

#### –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å
```
POST http://localhost:8000/ask
{
  "question": "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç?",
  "framework": "vue",
  "model": "deepseek",
  "max_results": 5,
  "context": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç",
  "project_name": "my_project",
  "project_path": "/path/to/project",
  "session_id": "uuid",
  "use_memory": true,
  "save_to_memory": true
}

Response:
{
  "answer": "–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ Vue...",
  "sources": [...],
  "total_docs": 5,
  "response_time": 1.23,
  "framework_detected": "vue",
  "session_id": "uuid",
  "session_context_used": true,
  "key_moments_detected": [
    {
      "type": "feature_completed",
      "title": "–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞",
      "summary": "–û–±—ä—è—Å–Ω–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ Vue"
    }
  ]
}
```

#### IDE –∑–∞–ø—Ä–æ—Å
```
POST http://localhost:8000/ide/ask
{
  "question": "–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é?",
  "file_path": "/path/to/file.php",
  "file_content": "<?php ...",
  "cursor_position": {"line": 10},
  "quick_mode": true,
  "framework": null,  // –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
  "project_name": null,  // –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ file_path
  "project_path": null,
  "session_id": null,
  "use_memory": true,
  "save_to_memory": true
}
```

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
```
# –°–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é
POST /sessions/create?project_name=my_project

# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ—Å—Å–∏—é
GET /sessions/latest?project_name=my_project

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏–∏
GET /sessions/{session_id}

# –í—Å–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
GET /sessions/project/{project_name}

# –î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç
POST /sessions/{session_id}/key-moment
{
  "moment_type": "error_solved",
  "title": "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞",
  "summary": "–î–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è",
  "importance": 8,
  "files": ["file.php"],
  "context": "–ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏"
}

# –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Å—Å–∏—é
POST /sessions/{session_id}/archive

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–µ—Å—Å–∏–∏
POST /sessions/cleanup?days_threshold=30

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Å—Å–∏–π
GET /sessions/stats

# –¢–∏–ø—ã –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
GET /sessions/key-moment-types

# –ù–æ–≤—ã–µ endpoints –¥–ª—è MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
GET /session/current/context?project_name=default
POST /session/message
POST /session/key_moment
```

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ endpoints
```
# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
GET /

# –°–ø–∏—Å–æ–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
GET /frameworks

# –°–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
GET /models

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
GET /stats

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
DELETE /cache
```

## üß† –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:

| –¢–∏–ø | –í–∞–∂–Ω–æ—Å—Ç—å | –ê–≤—Ç–æ–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º (EN/RU) |
|-----|----------|---------------------------------------------|
| BREAKTHROUGH | 9 | breakthrough, –ø—Ä–æ—Ä—ã–≤ |
| ERROR_SOLVED | 8 | error, fix, solved, resolved, bug, issue, problem, –æ—à–∏–±–∫–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω, —Ä–µ—à–µ–Ω, —Ä–µ—à–µ–Ω–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞, –ø–æ—á–∏–Ω–µ–Ω, –ø–æ—á–∏–Ω–µ–Ω–∞, –±–∞–≥, –ø—Ä–æ–±–ª–µ–º–∞, —É—Å—Ç—Ä–∞–Ω–µ–Ω, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞, —Ñ–∏–∫—Å, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
| DEPLOYMENT | 8 | deploy, deployment, –¥–µ–ø–ª–æ–π |
| FEATURE_COMPLETED | 7 | completed, finished, done, implemented, ready, success, –∑–∞–≤–µ—Ä—à–µ–Ω, –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –≥–æ—Ç–æ–≤, –≥–æ—Ç–æ–≤–∞, –≤—ã–ø–æ–ª–Ω–µ–Ω, –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –∑–∞–∫–æ–Ω—á–µ–Ω, –∑–∞–∫–æ–Ω—á–µ–Ω–∞, —Å–¥–µ–ª–∞–Ω, —Å–¥–µ–ª–∞–Ω–∞ |
| IMPORTANT_DECISION | 7 | decided, decision, choice, selected, approach, —Ä–µ—à–∏–ª, —Ä–µ—à–∏–ª–∞, —Ä–µ—à–µ–Ω–∏–µ, –≤—ã–±–æ—Ä, –ø–æ–¥—Ö–æ–¥, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ, –≤—ã–±—Ä–∞–Ω, –≤—ã–±—Ä–∞–Ω–∞ |
| CONFIG_CHANGED | 6 | config, settings, yaml, json, configuration, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, –∫–æ–Ω—Ñ–∏–≥, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã |
| REFACTORING | 6 | refactor, refactored, restructure, optimize, optimized, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–ª, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–ª–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–∞, —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è, —É–ª—É—á—à–µ–Ω, —É–ª—É—á—à–µ–Ω–∞ |
| FILE_CREATED | 5 | created, added, —Å–æ–∑–¥–∞–Ω, –¥–æ–±–∞–≤–ª–µ–Ω |

### Sliding Window

- –•—Ä–∞–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 200 —Å–æ–æ–±—â–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ CompressedPeriod
- –°–∂–∞—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –±–ª–æ–∫–∞–º–∏ –ø–æ 50 —Å–æ–æ–±—â–µ–Ω–∏–π

### –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–µ—Å—Å–∏–∏ –≤–∫–ª—é—á–∞–µ—Ç

1. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ** (project_name, created_at, last_used)
2. **–¢–æ–ø-10 –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤** (–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏)
3. **–ü–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å–æ–æ–±—â–µ–Ω–∏–π** –∏–∑ sliding window
4. **–°–∂–∞—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è** —Å—Ç–∞—Ä—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ —Å summary –∏ key achievements
5. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (total_messages, total_key_moments, compressed_periods)

### –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```python
# –ò–∑ project_path
"/path/to/my_laravel_project" ‚Üí "my_laravel_project"

# –ò–∑ file_path (–¥–ª—è IDE)
"/path/to/my_laravel_project/app/Models/User.php" ‚Üí "my_laravel_project"

# –û—á–∏—Å—Ç–∫–∞ –∏–º–µ–Ω–∏ –æ—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
"my-project@2.0" ‚Üí "my_project_2_0"
```

## üìä Chunking –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ (–≤ docs_manager.py)

1. **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º**:
   - –†–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ Markdown –∑–∞–≥–æ–ª–æ–≤–∫–∞–º (# ## ### ####)
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

2. **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞**:
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 200 —Ç–æ–∫–µ–Ω–æ–≤
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 2000 —Ç–æ–∫–µ–Ω–æ–≤
   - Overlap: 200 —Ç–æ–∫–µ–Ω–æ–≤ –º–µ–∂–¥—É —á–∞–Ω–∫–∞–º–∏

3. **–£–º–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ**:
   - –ú–∞–ª–µ–Ω—å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è
   - –ë–æ–ª—å—à–∏–µ —Ä–∞–∑–¥–µ–ª—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –ø–æ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞–º
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–∞—Ö

### –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—á–∏—Å—Ç–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
content_cleaning:
  remove_frontmatter: true      # –£–¥–∞–ª–µ–Ω–∏–µ YAML frontmatter
  remove_html_tags: true        # –£–¥–∞–ª–µ–Ω–∏–µ HTML —Ç–µ–≥–æ–≤
  remove_code_blocks: false     # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
  remove_vue_components: true   # –î–ª—è VitePress –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
  remove_script_tags: true      # –£–¥–∞–ª–µ–Ω–∏–µ <script>
  remove_style_tags: true       # –£–¥–∞–ª–µ–Ω–∏–µ <style>
```

### Chunking –±–æ–ª—å—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ –≤ MCP

–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –ø—Ä–µ–≤—ã—à–∞–µ—Ç 4000 —Ç–æ–∫–µ–Ω–æ–≤ (‚âà16000 —Å–∏–º–≤–æ–ª–æ–≤), –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è:

```json
// –ü–µ—Ä–≤—ã–π —á–∞–Ω–∫
{
  "segment": "1/3",
  "data": {...}
}

// –í—Ç–æ—Ä–æ–π —á–∞–Ω–∫
{
  "segment": "2/3",
  "data": {...}
}

// –ü–æ—Å–ª–µ–¥–Ω–∏–π —á–∞–Ω–∫
{
  "segment": "3/3",
  "data": {...}
}
```

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### SQLite –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –≤—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `mcp_calls`:

```sql
CREATE TABLE mcp_calls (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  tool_name TEXT,
  args_json TEXT,
  result_json TEXT,
  success BOOLEAN,
  ts DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ
sqlite3 session_storage.db

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤—ã–∑–æ–≤—ã
SELECT tool_name, success, ts FROM mcp_calls ORDER BY ts DESC LIMIT 10;

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º
SELECT tool_name, COUNT(*) as calls, 
       SUM(CASE WHEN success = 1 THEN 1 ELSE 0 END) as successes
FROM mcp_calls 
GROUP BY tool_name;

# –û—à–∏–±–∫–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
SELECT tool_name, args_json, result_json, ts 
FROM mcp_calls 
WHERE success = 0 AND ts > datetime('now', '-1 hour');
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```bash
# –°–£–ü–ï–†-–ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø: –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Å–µ–≥–æ!
python easy_add.py --auto

# –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
# 1. –°–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –ø–∞–ø–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ
# 2. –ù–∞—Ö–æ–¥–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–¥–∞–∂–µ —Å 1 .md —Ñ–∞–π–ª–æ–º!)
# 3. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
# 4. –î–æ–±–∞–≤–ª—è–µ—Ç –í–°–ï –Ω–æ–≤—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –ë–ï–ó –í–û–ü–†–û–°–û–í
# 5. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ (–Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã)
# 6. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
# 7. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä

# –î—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã
python easy_add.py --scan-all        # –°–∫–∞–Ω–∏—Ä—É–µ—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω–æ–µ
python easy_add.py --smart-sync      # –£–º–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
python easy_add.py --update-all      # –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
python easy_add.py inertia_docs      # –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø–∞–ø–∫—É
python easy_add.py list              # –°–ø–∏—Å–æ–∫ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
python easy_add.py stats             # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

SmartDetector –≤ `easy_add.py` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:

1. **–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**:
   - VitePress (–ø–æ .vitepress –ø–∞–ø–∫–µ)
   - Docusaurus (–ø–æ docusaurus.config.js)
   - Markdown (fallback)

2. **–§—Ä–µ–π–º–≤–æ—Ä–∫**:
   - –ü–æ package.json –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º
   - –ü–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ README
   - –ü–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º —Ñ–∞–π–ª–æ–≤
   - –ü–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–º —Ñ–∞–π–ª–∞–º (vue.config.js, composer.json)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Claude

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–∞

–§–∞–π–ª `.mcp.json` —É–∂–µ —Å–æ–∑–¥–∞–Ω:
```json
{
  "mcpServers": {
    "rag-server": {
      "command": "node",
      "args": ["mcp-server/http-mcp-server.js"],
      "env": {
        "RAG_SERVER_URL": "http://localhost:8000"
      }
    }
  }
}
```

#### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Claude

```
User: –ò—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫—É 'module is not defined' –≤ postcss.config.js

Claude: –Ø –ø–æ–º–æ–≥—É –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç—É –æ—à–∏–±–∫—É. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º–µ.

[–ò—Å–ø–æ–ª—å–∑—É–µ—Ç ask_rag –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏]
[–ò—Å–ø–æ–ª—å–∑—É–µ—Ç apply_patch –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è]
[–ò—Å–ø–æ–ª—å–∑—É–µ—Ç run_tests –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏]
[–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è key_moment "PostCSS bug fixed"]

–û—à–∏–±–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞! –Ø –∑–∞–º–µ–Ω–∏–ª `module.exports` –Ω–∞ `export default` –≤ —Ñ–∞–π–ª–µ postcss.config.js, 
—á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç ES6 –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.
```

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

1. –î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `mcp-server/http-mcp-server.js`:
```javascript
toolHandlers.my_new_tool = async (args) => {
  // –õ–æ–≥–∏–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
  const response = await axios.post(`${RAG_SERVER_URL}/my_endpoint`, args);
  
  // –°–æ–∑–¥–∞–Ω–∏–µ key_moment –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
  if (args.create_moment) {
    await axios.post(`${RAG_SERVER_URL}/session/key_moment`, {
      type: 'IMPORTANT_DECISION',
      title: '–ù–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω',
      summary: '–î–µ—Ç–∞–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è'
    });
  }
  
  return {
    result: response.data
  };
};
```

2. –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ `config.yaml`:
```yaml
mcp:
  tools_enabled:
    - my_new_tool
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

1. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –ø–∞–ø–∫—É
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ easy_add.py:
```bash
python easy_add.py my_framework_docs
```

3. –ò–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
```bash
python easy_add.py --auto
```

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –û–±—Ä–µ–∑–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ ask_rag

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ**:
1. –£–≤–µ–ª–∏—á–µ–Ω `max_tokens` –¥–æ 2500 –≤ config.yaml
2. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `clean_llm_response()` –≤ rag_server.py –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
3. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏ –≤ http-mcp-server.js
4. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—Ä—ã–≤–æ–≤ —Ç–µ–∫—Å—Ç–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
- ‚úÖ –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è
- ‚úÖ –û—Ç–≤–µ—Ç—ã –Ω–µ –æ–±—Ä—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω–µ —Å–ª–æ–≤–∞
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã (9659 —Å–∏–º–≤–æ–ª–æ–≤) –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LM Studio:
  - Context Length: –º–∏–Ω–∏–º—É–º 4096
  - Max Tokens: 2500+

#### 2. –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å LLM –º–æ–¥–µ–ª–µ–π

**–°—Ç–∞—Ç—É—Å**: ‚ÑπÔ∏è –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–û

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Qwen —á–µ—Ä–µ–∑ LM Studio
- DeepSeek –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Qwen —á–µ—Ä–µ–∑ LM Studio –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –º–æ–¥–µ–ª—å
- DeepSeek —á–µ—Ä–µ–∑ Ollama - –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—É—é
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Qwen
curl http://127.0.0.1:1234/v1/models

# –ü—Ä–æ–≤–µ—Ä–∫–∞ DeepSeek
curl http://localhost:11434/api/tags
```

#### 3. –ü–ª–æ—Ö–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ**:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫ JSON –≤ rag_server.py
- –î–æ–±–∞–≤–ª–µ–Ω middleware –¥–ª—è Express –≤ http-mcp-server.js
- –£–ø—Ä–æ—â–µ–Ω middleware –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ JSON
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤–º–µ—Å—Ç–æ HTML
- ‚úÖ HTTP —Å—Ç–∞—Ç—É—Å 400 –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ JSON

### üü° –ü—Ä–æ–±–ª–µ–º—ã —Å—Ä–µ–¥–Ω–µ–π –≤–∞–∂–Ω–æ—Å—Ç–∏

#### 4. –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –≤ –æ—Ç–≤–µ—Ç–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—É–º–µ—Å—Ç–Ω—ã–π –∫–æ–¥ –∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
- –£–∫–∞–∑—ã–≤–∞–π—Ç–µ framework —è–≤–Ω–æ
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∫ –≤–æ–ø—Ä–æ—Å–∞–º

#### 5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—É—Ç–µ–π —Ñ–∞–π–ª–æ–≤

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ**:
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –≤ —Ñ—É–Ω–∫—Ü–∏—é `open_file` –≤ http-mcp-server.js
- –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ - —Ç–µ–ø–µ—Ä—å –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—É—Ç–∏
- –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —á—Ç–µ–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã (/etc/passwd) –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ (config.yaml) –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç path traversal –∞—Ç–∞–∫

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏**:
   - config.yaml –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
   - session_storage.db —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã**:
   ```bash
   lsof -i :8200  # –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–≤–æ–±–æ–¥–µ–Ω
   lsof -i :8000  # RAG —Å–µ—Ä–≤–µ—Ä
   lsof -i :1234  # LLM Qwen
   lsof -i :11434 # LLM DeepSeek
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   cd mcp-server
   npm list
   ```

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ RAG —Å–µ—Ä–≤–µ—Ä**:
   ```bash
   curl http://localhost:8000/
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä**:
   ```bash
   curl http://127.0.0.1:8200/health
   ```

3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏**:
   - –ö–æ–Ω—Å–æ–ª—å MCP —Å–µ—Ä–≤–µ—Ä–∞
   - –ö–æ–Ω—Å–æ–ª—å RAG —Å–µ—Ä–≤–µ—Ä–∞
   - SQLite –±–∞–∑–∞ –ª–æ–≥–æ–≤

### –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ LLM –º–æ–¥–µ–ª–∏**:
   - Qwen –Ω–∞ –ø–æ—Ä—Ç—É 1234
   - DeepSeek —á–µ—Ä–µ–∑ Ollama

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à**:
   - –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±—ã—Å—Ç—Ä–µ–µ
   - –ö—ç—à —Ö—Ä–∞–Ω–∏—Ç—Å—è 1 —á–∞—Å

3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã**:
   - –£–∫–∞–∑—ã–≤–∞–π—Ç–µ framework
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à–µ max_results
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ quick_mode –¥–ª—è IDE

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã

- **–í—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞**: 5-30 —Å–µ–∫—É–Ω–¥ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç LLM)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**: <100ms
- **–ü–æ–∏—Å–∫ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–µ**: <500ms
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—Ç–≤–µ—Ç–∞**: 800 —Ç–æ–∫–µ–Ω–æ–≤ (–º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å—Å—è, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å)
- **–†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**: ~100MB
- **–†–∞–∑–º–µ—Ä –±–∞–∑—ã —Å–µ—Å—Å–∏–π**: —Ä–∞—Å—Ç–µ—Ç ~1MB/–¥–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**: 6,405
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤**: 6
- **–†–∞–±–æ—á–∞—è LLM –º–æ–¥–µ–ª—å**: Qwen (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ project_name** –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–µ—Å—Å–∏–π
2. **–û—á–∏—â–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ —Å–µ—Å—Å–∏–∏** —Ä–∞–∑ –≤ –º–µ—Å—è—Ü
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö**
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ quick_mode** –¥–ª—è IDE –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
5. **–í–∫–ª—é—á–∏—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤

## üéØ Best Practices

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã**:
   ```
   ‚úÖ "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å middleware –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ Laravel?"
   ‚ùå "Middleware?"
   ```

2. **–£–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç**:
   ```
   ‚úÖ "–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Vue 3 Composition API, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ä–µ–∞–∫—Ç–∏–≤–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é?"
   ‚ùå "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é?"
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã**:
   ```json
   {
     "question": "...",
     "framework": "laravel",
     "model": "deepseek"
   }
   ```

4. **–î–ª—è IDE –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**:
   - –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ file_path
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ quick_mode –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ cursor_position –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ**:
   ```bash
   # –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
   python test_system.py
   python test_http_mcp.py
   
   # –ï–∂–µ–º–µ—Å—è—á–Ω–æ
   curl -X POST http://localhost:8000/sessions/cleanup?days_threshold=30
   
   # –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   python docs_manager.py rebuild
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:
   ```bash
   # –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
   curl http://localhost:8000/
   curl http://127.0.0.1:8200/health
   
   # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   curl http://localhost:8000/stats
   curl http://127.0.0.1:8200/stats/calls
   
   # –°–µ—Å—Å–∏–∏
   curl http://localhost:8000/sessions/stats
   ```

3. **–ë—ç–∫–∞–ø—ã**:
   ```bash
   # –ë–∞–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   cp -r chroma_storage chroma_storage.backup
   
   # –ë–∞–∑–∞ —Å–µ—Å—Å–∏–π
   cp session_storage.db session_storage.db.backup
   
   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   cp config.yaml config.yaml.backup
   ```

## üîÆ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IDE

```python
# VS Code Extension
async function askRAG(question: string) {
  const response = await fetch('http://localhost:8000/ide/ask', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      question,
      file_path: vscode.window.activeTextEditor?.document.fileName,
      file_content: vscode.window.activeTextEditor?.document.getText(),
      cursor_position: {
        line: vscode.window.activeTextEditor?.selection.active.line
      },
      quick_mode: true,
      use_memory: true,
      save_to_memory: true
    })
  });
  return response.json();
}
```

### CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```yaml
# GitHub Actions
- name: Log deployment
  run: |
    curl -X POST http://your-server:8200/tool/save_tool_call \
      -H "Content-Type: application/json" \
      -d '{
        "tool_name": "deployment",
        "parameters": {
          "commit": "${{ github.sha }}",
          "branch": "${{ github.ref }}"
        },
        "result": "success"
      }'
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

```python
# –í rag_server.py
def build_custom_prompt(question, context, framework):
    return f"""
    [Framework: {framework}]
    [Documentation Context]
    {context}
    
    [User Question]
    {question}
    
    [Instructions]
    - Provide code examples in {framework}
    - Be concise but comprehensive
    - Use best practices for {framework}
    
    [Answer]
    """
```

### Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ rag_server.py
@app.post("/webhook/github")
async def github_webhook(request: Request):
    data = await request.json()
    
    if data.get("action") == "closed" and data.get("pull_request"):
        # PR –∑–∞–∫—Ä—ã—Ç
        session_id = get_or_create_session(data["repository"]["name"])
        
        session_manager.add_key_moment(
            session_id,
            KeyMomentType.FEATURE_COMPLETED,
            f"PR #{data['pull_request']['number']} merged",
            data['pull_request']['title'],
            importance=7,
            files=data['pull_request']['changed_files']
        )
    
    return {"status": "ok"}
```

## üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

```
chanki/
‚îú‚îÄ‚îÄ config.yaml                    # –ì–ª–∞–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ rag_server.py                  # FastAPI RAG —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ docs_manager.py                # –ú–µ–Ω–µ–¥–∂–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ session_manager.py             # –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏
‚îú‚îÄ‚îÄ easy_add.py                    # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
‚îú‚îÄ‚îÄ test_system.py                 # –¢–µ—Å—Ç—ã RAG —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ test_http_mcp.py              # –¢–µ—Å—Ç—ã HTTP-MCP —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ test_session_manager.py        # –¢–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç–∏
‚îú‚îÄ‚îÄ test_integration.py            # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ test_key_moments.py           # –¢–µ—Å—Ç—ã –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ requirements.txt              # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .mcp.json                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP –¥–ª—è Claude
‚îú‚îÄ‚îÄ README.md                     # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ COMPLETE_RAG_MCP_DOCUMENTATION.md  # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ HTTP_MCP_GUIDE.md             # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ HTTP-MCP
‚îú‚îÄ‚îÄ SESSION_MEMORY_GUIDE.md       # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ –ø–∞–º—è—Ç–∏
‚îú‚îÄ‚îÄ INTEGRATION_GUIDE.md          # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ START_SYSTEM.md               # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ CLINE_SETUP.md               # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cline
‚îú‚îÄ‚îÄ mcp-server/
‚îÇ   ‚îú‚îÄ‚îÄ http-mcp-server.js       # HTTP-MCP —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ index.js                 # STDIO MCP —Å–µ—Ä–≤–µ—Ä (—Å—Ç–∞—Ä—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ package.json             # Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json        # Lock —Ñ–∞–π–ª
‚îÇ   ‚îú‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MCP
‚îÇ   ‚îî‚îÄ‚îÄ test.js                  # –¢–µ—Å—Ç—ã MCP
‚îú‚îÄ‚îÄ chroma_storage/              # –ë–∞–∑–∞ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ chroma.sqlite3           # SQLite –±–∞–∑–∞ ChromaDB
‚îÇ   ‚îî‚îÄ‚îÄ ...                      # –í–µ–∫—Ç–æ—Ä–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
‚îú‚îÄ‚îÄ session_storage.db           # SQLite –±–∞–∑–∞ —Å–µ—Å—Å–∏–π –∏ –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ alpine_docs/                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Alpine.js
‚îú‚îÄ‚îÄ filament_docs/               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Filament
‚îú‚îÄ‚îÄ inertia_docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Inertia.js
‚îú‚îÄ‚îÄ laravel_docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Laravel
‚îú‚îÄ‚îÄ tailwindcss_docs/            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Tailwind CSS
‚îî‚îÄ‚îÄ vue_docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Vue.js
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

1. **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**:
   - `python easy_add.py --auto` –¥–µ–ª–∞–µ—Ç –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

2. **–£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏**:
   - Sliding window –Ω–∞ 200 —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤
   - –°–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä–æ–π –∏—Å—Ç–æ—Ä–∏–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

3. **HTTP-MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**:
   - 12 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (8 —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, 4 —Ç—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏)
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±–æ–ª—å—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ chunking

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (TTL 1 —á–∞—Å)
   - –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ ChromaDB
   - Quick mode –¥–ª—è IDE (timeout 2s)

5. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**:
   - –õ–µ–≥–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

## ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –†–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ (12/12 –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤):
- ‚úÖ **ask_rag** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ –∏ –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (list_frameworks, list_models, get_stats)
- ‚úÖ –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (open_file —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø—É—Ç–µ–π, apply_patch)
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (run_tests, build_project, run_linters - –∑–∞–≥–ª—É—à–∫–∏)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ JSON –æ—à–∏–±–æ–∫
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –≤ –æ—Ç–≤–µ—Ç–∞—Ö

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- ‚ÑπÔ∏è LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Qwen –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–∫–∞–∫ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å)
- ‚ÑπÔ∏è DeepSeek –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üìù –ò—Ç–æ–≥–∏ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **config.yaml**:
   - –£–≤–µ–ª–∏—á–µ–Ω max_tokens —Å 800 –¥–æ 2500 –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π

2. **rag_server.py**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `clean_llm_response()` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫ JSON
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—Ä—ã–≤–æ–≤ —Ç–µ–∫—Å—Ç–∞

3. **http-mcp-server.js**:
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `cleanLLMResponse()` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –≤ `open_file`
   - –£–ø—Ä–æ—â–µ–Ω middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ JSON –æ—à–∏–±–æ–∫

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

‚úÖ **–í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û (7/7)**

1. **ask_rag**: ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
   - –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è
   - –î–ª–∏–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ù–µ—Ç –æ–±—Ä—ã–≤–æ–≤ —Ç–µ–∫—Å—Ç–∞

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ JSON**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–º–µ—Å—Ç–æ HTML

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è
   - –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ã

4. **–°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
   - –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
   - –ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π –≤–µ–¥–µ—Ç—Å—è

5. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- ask_rag: 36+ —É—Å–ø–µ—à–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∞ 6,405 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è 6 —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

RAG —Å–∏—Å—Ç–µ–º–∞ —Å HTTP-MCP —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å LLM —á–µ—Ä–µ–∑ Claude. –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç:

1. **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π RAG pipeline** —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –ø–æ 6,405 –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
2. **–£–º–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–∞–º—è—Ç–∏** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
3. **HTTP API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Claude –∏ –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
4. **–ì–∏–±–∫—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** —á–µ—Ä–µ–∑ YAML
5. **–†–∞—Å—à–∏—Ä—è–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –¥–ª—è –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤
6. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —á–µ—Ä–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –ø–æ–¥ –≤–∞—à–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω—É–∂–¥—ã!

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ config.yaml
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
