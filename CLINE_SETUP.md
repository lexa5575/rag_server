# Настройка Cline для работы с RAG Assistant

## Шаги настройки

### 1. Убедитесь, что все сервисы запущены

1. **LLM модель (Qwen)** на `http://127.0.0.1:1234`
2. **RAG сервер** на `http://localhost:8000`
   ```bash
   cd /Users/aleksejcuprynin/PycharmProjects/chanki
   source venv/bin/activate
   python rag_server.py
   ```

### 2. Настройте MCP сервер в Cline

1. Откройте VS Code
2. Откройте настройки Cline (Cmd+Shift+P → "Cline: Open Settings")
3. Найдите раздел "MCP Servers"
4. Добавьте конфигурацию:

```json
{
  "rag-assistant": {
    "command": "node",
    "args": ["/Users/aleksejcuprynin/PycharmProjects/chanki/mcp-server/index.js"],
    "env": {}
  }
}
```

Или отредактируйте файл напрямую:
`~/Library/Application Support/Code/User/globalStorage/saoudrizwan.claude-dev/settings/cline_mcp_settings.json`

### 3. Перезапустите Cline

После добавления MCP сервера перезапустите Cline для применения изменений.

## Использование

### Примеры команд в Cline:

1. **Задать вопрос по Vue.js:**
   ```
   Используй ask_rag чтобы узнать как работает v-model в Vue
   ```

2. **Вопрос по Laravel:**
   ```
   Спроси у RAG как создать миграцию в Laravel
   ```

3. **Вопрос без указания фреймворка:**
   ```
   Используй ask_rag чтобы узнать что такое компонент
   ```

4. **Вопрос с указанием модели:**
   ```
   Используй ask_rag с model=deepseek чтобы узнать как создать компонент в Vue
   ```

5. **Посмотреть доступные фреймворки:**
   ```
   Используй list_frameworks чтобы показать все доступные фреймворки
   ```

6. **Статистика базы:**
   ```
   Покажи статистику RAG базы используя get_stats
   ```

7. **Список моделей:**
   ```
   Покажи список доступных моделей используя list_models
   ```

## Проверка работы

1. В Cline введите: "Используй list_frameworks"
2. Вы должны увидеть список из 6 фреймворков
3. Попробуйте задать вопрос: "Используй ask_rag чтобы узнать как создать компонент в Vue"

## Возможные проблемы

### MCP сервер не подключается
- Проверьте, что путь к index.js правильный
- Убедитесь, что Node.js установлен и доступен в PATH
- Проверьте логи Cline на наличие ошибок

### RAG сервер не отвечает
- Убедитесь, что RAG сервер запущен на порту 8000
- Проверьте, что LLM модель запущена на порту 1234
- Проверьте timeout в config.yaml (должен быть 60 секунд)

### Ответы слишком долгие
- Это нормально для больших моделей
- Первый запрос может занимать до 30-60 секунд
- Последующие запросы будут быстрее благодаря кэшированию

## Архитектура

```
VS Code + Cline
       ↓
  MCP Server (stdio)
       ↓
  RAG Server (:8000)
       ↓
  LLM Model (:1234)
```

Теперь ваша LLM модель в Cline будет использовать контекст из документации по 6 фреймворкам!
